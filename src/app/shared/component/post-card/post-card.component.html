<div class="mat-app-background" *ngIf="!isLoading">
  <button
    class="back-to-top-btn"
    (click)="scrollToTop()"
    *ngIf="isScrolledDown"
  >
    <span class="material-icons-outlined"> keyboard_double_arrow_up </span>
    Back to Top
  </button>
  <mat-card class="example-card" *ngFor="let card of paginatedCards">
    <a
      class="custom-link"
      [routerLink]="
        '/' + card.mainCategory + '/post-details/' + card.tableRefGuid
      "
      target="_self"
    >
      <img
        mat-card-image
        [src]="getCardImageURL(card)"
        alt="{{ card?.title }}"
        class="card-image"
      />
      <mat-card-title class="title">{{
        card?.price | currency : "INR"
      }}</mat-card-title>
      <mat-card-content class="description">
        <p style="margin: 0">{{ card?.title }}</p>
        <p *ngIf="card?.year">
          {{ card?.year || "" }} -
          {{ card?.kmDriven ? card.kmDriven + " kms" : "" }}
        </p>
        <div class="loc-date">
          <p class="loc">
            {{ card?.nearBy }},{{ card?.city }} , {{ card?.state }}
          </p>
          <p class="date">{{ formatDate(card?.createdOn) }}</p>
        </div>
      </mat-card-content>
    </a>
  </mat-card>
  <div *ngIf="paginatedCards.length == 0">
    <p class="noposts">No Posts found</p>
  </div>

  <div class="load-more-container" *ngIf="displayedCardCount < cards.length">
    <button class="load-more-btn" (click)="loadMoreCards()">
      <span class="material-icons-outlined"> keyboard_double_arrow_down </span>
      Load More
    </button>
  </div>
</div>

<!-- <div>
  <mat-paginator [length]="cards.length" [pageSize]="pageSize" [pageIndex]="currentPage"
    (page)="onPageChange($event)"></mat-paginator>
</div> -->
